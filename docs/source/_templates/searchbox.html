<script>
document.addEventListener('DOMContentLoaded', function() {
    setTimeout(function() {
        const menu = document.querySelector('.wy-menu-vertical');
        const switcherContainer = document.getElementById('switcher-container');
        
        if (menu && switcherContainer) {
            const currentPath = window.location.pathname;
            const isZh = currentPath.includes('/zh_CN/');
            
            switcherContainer.style.display = 'flex';
            menu.appendChild(switcherContainer);
            
            const langIcon = document.getElementById('lang-icon');
            if (langIcon) {
                langIcon.innerHTML = isZh ? 'ğŸ‡¨ğŸ‡³' : 'ğŸ‡ºğŸ‡¸';
            }
            
            const menuItems = menu.querySelectorAll('p.caption');
            menuItems.forEach(item => {
                const text = item.textContent;
                const parentList = item.parentElement;
                
                if (isZh) {
                    if (text.includes('English')) {
                        parentList.style.display = 'none';
                    }
                } else {
                    if (text.includes('ä¸­æ–‡')) {
                        parentList.style.display = 'none';
                    }
                }
            });
        }
    }, 100);
});
</script>

<div id="switcher-container" style="display: none;">
    <div class="switcher-item">
        <div class="switcher-icon" title="Language">
            <span id="lang-icon">ğŸ‡¨ğŸ‡³</span>
            <div class="language-dropdown">
                <a href="../en/index.html" onclick="switchLanguage('en')">ğŸ‡ºğŸ‡¸ English</a>
                <a href="../zh_CN/index.html" onclick="switchLanguage('zh')">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</a>
            </div>
        </div>
    </div>
    
    <div class="switcher-item">
        <button id="theme-toggle" onclick="toggleTheme()" title="Toggle Theme">
            <span id="theme-icon">â˜€ï¸</span>
        </button>
    </div>
</div>